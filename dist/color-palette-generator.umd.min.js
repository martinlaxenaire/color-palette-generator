var y=Object.defineProperty;var g=(p,M)=>y(p,"name",{value:M,configurable:!0});(function(p,M){typeof exports=="object"&&typeof module<"u"?M(exports):typeof define=="function"&&define.amd?define(["exports"],M):(p=typeof globalThis<"u"?globalThis:p||self,M(p.window=p.window||{}))})(this,function(p){"use strict";var M=g(d=>{throw TypeError(d)},"__typeError"),_=g((d,t,e)=>t.has(d)||M("Cannot "+e),"__accessCheck"),H=g((d,t,e)=>(_(d,t,"read from private field"),e?e.call(d):t.get(d)),"__privateGet"),m=g((d,t,e)=>t.has(d)?M("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(d):t.set(d,e),"__privateAdd"),u=g((d,t,e,i)=>(_(d,t,"write to private field"),t.set(d,e),e),"__privateSet"),b,x,C,T;const L=class B{static{g(this,"_ColorModel")}constructor(t="#000000"){m(this,b),m(this,x),m(this,C),m(this,T),this.hex=t}get hex(){return H(this,b)}set hex(t){u(this,b,t),u(this,x,this.hexToRgb(t)),u(this,C,this.rgbToHsl(this.rgb)),u(this,T,this.hslToHsv(this.hsl))}get rgb(){return H(this,x)}set rgb(t){u(this,x,t),u(this,b,this.rgbToHex(t)),u(this,C,this.rgbToHsl(t)),u(this,T,this.hslToHsv(this.hsl))}get hsl(){return H(this,C)}set hsl(t){u(this,C,t),u(this,x,this.hslToRgb(t)),u(this,b,this.rgbToHex(this.rgb)),u(this,T,this.hslToHsv(t))}get hsv(){return H(this,T)}set hsv(t){u(this,T,t),u(this,C,this.hsvToHsl(t)),u(this,x,this.hslToRgb(this.hsl)),u(this,b,this.rgbToHex(this.rgb))}rgbToHex({r:t=0,g:e=0,b:i=0}){const s=g(h=>{const a=Math.round(h).toString(16);return a.length===1?"0"+a:a},"toHex");return"#".concat(s(t),"").concat(s(e),"").concat(s(i),"")}hexToRgb(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:0,g:0,b:0}}rgbToHsl({r:t=0,g:e=0,b:i=0}){t/=255,e/=255,i/=255;const s=Math.max(t,e,i),h=Math.min(t,e,i);let a,r,o=(s+h)/2;if(s==h)a=r=0;else{const l=s-h;switch(r=o>.5?l/(2-s-h):l/(s+h),s){case t:a=(e-i)/l+(e<i?6:0);break;case e:a=(i-t)/l+2;break;case i:a=(t-e)/l+4;break}a/=6}return{h:Math.floor(a*360),s:Math.floor(r*100),l:Math.floor(o*100)}}hslToRgb({h:t=0,s:e=0,l:i=0}){t/=360,e/=100,i/=100;const s={r:0,g:0,b:0};if(e===0)s.r=s.g=s.b=i;else{const h=g((o,l,c)=>(c<0&&(c+=1),c>1&&(c-=1),c<.16666666666666666?o+(l-o)*6*c:c<.5?l:c<.6666666666666666?o+(l-o)*(.6666666666666666-c)*6:o),"hue2rgb"),a=i<.5?i*(1+e):i+e-i*e,r=2*i-a;s.r=h(r,a,t+1/3),s.g=h(r,a,t),s.b=h(r,a,t-1/3)}return s.r*=255,s.g*=255,s.b*=255,s}hslToHsv({h:t=0,s:e=0,l:i=0}){const s=i/100,h=e/100*Math.min(s,1-s)+s;return{h:t,s:h?100*(2-2*s/h):0,v:h*100}}hsvToHsl({h:t=0,s:e=0,v:i=0}){const s=i/100,h=s-s*e/200,a=Math.min(h,1-h);return{h:t,s:a?100*(s-h)/a:0,l:h*100}}rgbToCmyk({r:t=0,g:e=0,b:i=0},s=!1){let h=1-t/255,a=1-e/255,r=1-i/255,o=Math.min(h,Math.min(a,r));return h=(h-o)/(1-o),a=(a-o)/(1-o),r=(r-o)/(1-o),s||(h=Math.round(h*1e4)/100,a=Math.round(a*1e4)/100,r=Math.round(r*1e4)/100,o=Math.round(o*1e4)/100),h=isNaN(h)?0:h,a=isNaN(a)?0:a,r=isNaN(r)?0:r,o=isNaN(o)?0:o,{c:h,m:a,y:r,k:o}}cmykToRgb({c:t=0,m:e=0,y:i=0,k:s=0},h=!1){t=t/100,e=e/100,i=i/100,s=s/100,t=t*(1-s)+s,e=e*(1-s)+s,i=i*(1-s)+s;let a=1-t,r=1-e,o=1-i;return h||(a=Math.round(255*a),r=Math.round(255*r),o=Math.round(255*o)),{r:a,g:r,b:o}}clone(){return new B(this.hex)}equals(t){return this.hex===t.hex}saturate(t=0,e=100,i=0){const s=this.hsv.s;return this.hsv.s=s+t>e?e:s+t<i?i:s+t,this.hsl=this.hsvToHsl(this.hsv),this}brighten(t=0,e=100,i=0){const s=this.hsv.v;return this.hsl.l=s+t>e?e:s+t<i?i:s+t,this.hsl=this.hsvToHsl(this.hsv),this}saturateHsl(t=0,e=100,i=0){const s=this.hsl.s;return this.hsl.s=s+t>e?e:s+t<i?i:s+t,this.rgb=this.hslToRgb(this.hsl),this}lighten(t=0,e=100,i=0){const s=this.hsl.l;return this.hsl.l=s+t>e?e:s+t<i?i:s+t,this.rgb=this.hslToRgb(this.hsl),this}addToHue(t=0,e=0){return t+e>360?(t+e)%360:t+e<0?360+t+e:t+e}};b=new WeakMap,x=new WeakMap,C=new WeakMap,T=new WeakMap;let P=L;class W{static{g(this,"ColorPaletteGenerator")}constructor({rand:t=g(()=>Math.random(),"rand"),precision:e=4,hueRange:i=180,baseColor:s,baseSaturation:h}={}){this.rand=t,this.precision=e,this.hueRange=i,s?typeof s=="string"?this.setBaseColor(s,h):this.baseColor=s:(this.setBaseColor(),this.baseColor.hsv={h:Math.round(this.rand()*100*3.6),s:h!==void 0?h:Math.round(this.rand()*20+65),v:Math.round(this.rand()*20+65)}),this.generatePalettes()}setBaseColor(t="#000000",e=null){this.baseColor=new P(t),e!==void 0&&this.baseColor.saturate(e)}generatePalettes(){this.palettes={base:[],light:[],dark:[]},this.generateBasePalette(),this.generateLightPalette(),this.generateDarkPalette()}generateBasePalette(){this.palettes.base.push(this.baseColor);const t=this.hueRange*.5/this.precision;let e=this.rand()*5+22.5,i=this.rand()*7.5+90;for(let s=1;s<=this.precision;s++){const h=new P,a=h.addToHue(this.baseColor.hsv.h,t*s),r=Math.max(0,Math.min(100,this.baseColor.hsv.s-s*(this.baseColor.hsv.s-e)/this.precision)),o=Math.max(0,Math.min(100,this.baseColor.hsv.v+s*(i-this.baseColor.hsv.v)/this.precision));h.hsv={h:a,s:r,v:o},this.palettes.base.unshift(h)}e=this.rand()*7.5+90,i=this.rand()*5+22.5;for(let s=1;s<=this.precision;s++){const h=new P,a=h.addToHue(this.baseColor.hsv.h,-t*s),r=Math.max(0,Math.min(100,this.baseColor.hsv.s+s*(e-this.baseColor.hsv.s)/this.precision)),o=Math.max(0,Math.min(100,this.baseColor.hsv.v-s*(this.baseColor.hsv.v-i)/this.precision));h.hsv={h:a,s:r,v:o},this.palettes.base.push(h)}}generateLightPalette(){const t=this.rand()*5+7.5,e=this.rand()*7.5+22.5,i=this.rand()*7.5+27.5;for(let s=0;s<this.palettes.base.length;s++){const h=new P(this.palettes.base[s].hex);h.hsv={h:h.addToHue(h.hsv.h,-t),s:Math.max(0,Math.min(100,h.hsv.s-e)),v:Math.max(0,Math.min(100,h.hsv.v+i))},this.palettes.light.push(h)}}generateDarkPalette(){const t=this.rand()*5+7.5,e=this.rand()*7.5+22.5,i=this.rand()*7.5+27.5;for(let s=0;s<this.palettes.base.length;s++){const h=new P(this.palettes.base[s].hex);h.hsv={h:h.addToHue(h.hsv.h,t),s:Math.max(0,Math.min(100,h.hsv.s+e)),v:Math.max(0,Math.min(100,h.hsv.v-i))},this.palettes.dark.push(h)}}get basePalette(){return this.palettes.base}get lightPalette(){return this.palettes.light}get darkPalette(){return this.palettes.dark}get fullPalette(){return[...this.palettes.light,...this.palettes.base,...this.palettes.dark]}getRandomPalette({length:t=4,includeBaseColor:e=!1,filterPasses:i=!0,sortByBrightness:s=!0,minSaturation:h=0,maxSaturation:a=100}){t<1&&(t=1);let r=[...this.fullPalette];if(r=r.filter(o=>o.hsv.s>=h),r=r.filter(o=>o.hsv.s<=a),i&&this.precision>2)for(let o=0;o<2;o++)r=r.filter((l,c)=>c%2===1);return r.sort(()=>this.rand()-.5),r=r.slice(0,t),e&&(r.find(l=>l.equals(this.baseColor))||(r[0]=this.baseColor)),s&&r.sort((o,l)=>o.hsv.v-l.hsv.v),r}getDistributedPalette({length:t=4,includeBaseColor:e=!1,sortByBrightness:i=!0,minSaturation:s=0,maxSaturation:h=100}){let a=[];e&&(a.push(this.baseColor),t=Math.max(0,t-1));let r=[...this.fullPalette];if(r=r.filter(n=>n.hsv.s>=s),r=r.filter(n=>n.hsv.s<=h),r.length<=t+1)return r.sort(()=>this.rand()-.5),r=r.slice(0,t),r;const o=r.filter(n=>n.hsv.v<=37.5),l=r.filter(n=>n.hsv.v>=87.5),c=r.filter(n=>n.hsv.v>37.5&&n.hsv.v<87.5),w=g(n=>Math.floor(this.rand()*n.length),"getRandomIndex"),R=[],I=[],N=[];let k=0;if(o.length){const n=Math.min(o.length,Math.floor(t/4));for(let v=0;v<n;v++){let f=null;for(;f===null||R.includes(f)||e&&o[f].equals(this.baseColor);)f=w(o);R.push(f),k++,a.push(o[f])}}if(l.length){const n=Math.min(l.length,Math.floor(t/4));for(let v=0;v<n;v++){let f=null;for(;f===null||I.includes(f)||e&&l[f].equals(this.baseColor);)f=w(l);I.push(f),k++,a.push(l[f])}}const q=Math.min(c.length,t-k);for(let n=0;n<q;n++){let v=null;for(;v===null||N.includes(v)||e&&c[v].equals(this.baseColor);)v=w(c);N.push(v),a.push(c[v])}return i&&a.sort((n,v)=>n.hsv.v-v.hsv.v),a}}p.ColorModel=P,p.ColorPaletteGenerator=W});
//# sourceMappingURL=color-palette-generator.umd.min.js.map
